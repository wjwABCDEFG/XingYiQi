[gd_resource type="Shader" format=2]

[resource]
code = "shader_type canvas_item;

uniform float size : hint_range(0.0, 1.0, 0.1) = 0.8;
uniform float pow_size : hint_range(0.0, 10, 0.1) = 4;
uniform float speed : hint_range(0.0, 1.0, 0.1) = 0.5;
uniform vec4 color : hint_color = vec4(1.0,0,0,1);
uniform sampler2D noise;

void fragment(){
	vec2 uv = UV;
	
	float ol = length((uv-vec2(0.5))*2.0) - size;
	clamp(ol, 0, 1);
	vec2 n_uv = uv + vec2(0, TIME);
	vec4 n = texture(noise, n_uv * speed);
	float k = pow(n.r, pow_size);
	trunc (k);
	n = vec4(k,k,k,1);
	vec4 t = texture(TEXTURE, uv);
	vec4 final = mix(t, color, n + ol);
	final.a = t.a;
	COLOR  = final;
}"
